

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. Installation &mdash; pysdg 2.4.3b0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=4c3a72c6"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Usage" href="usage.html" />
    <link rel="prev" title="1. About pysdg" href="about.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pysdg
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About <cite>pysdg</cite></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python">2.1. Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#r">2.2. R</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">3. Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_ref.html">4. API reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pysdg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">2. </span>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<span id="id1"></span><h1><span class="section-number">2. </span>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<p>The <cite>pysdg</cite> library can be used in both <cite>python</cite> or <cite>R</cite>. The package can be installed either using <cite>wheel</cite> file or Docker images.</p>
<p>The Docker images for Python are available at <a class="reference external" href="https://github.com/CHEO-EHIL/pysdg-releases/pkgs/container/pysdg%2Fehil-py-pysdg">pysdg Python images</a>.  while these for R are available at <a class="reference external" href="https://github.com/CHEO-EHIL/pysdg-releases/pkgs/container/pysdg%2Fehil-r-pysdg-sdgm">pysdg R images</a>. The images are tagged with the version of the package.</p>
<p>Follow the steps provided in the <a class="reference external" href="https://github.com/CHEO-EHIL/pysdg-releases">readme file</a> to install the package using the Docker images.</p>
<p>Below are the details to install the library using the wheel files.</p>
<section id="python">
<h2><span class="section-number">2.1. </span>Python<a class="headerlink" href="#python" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>From your terminal, create your virtual environment using <cite>conda</cite> and make sure to specify the python version as <cite>3.10.14</cite> and the pip version as <cite>24.0</cite>, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span>  <span class="o">&lt;</span><span class="n">your_virtual_environment_name</span><span class="o">&gt;</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.10.14</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="o">&lt;</span><span class="n">your_virtual_environment_name</span><span class="o">&gt;</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">pip</span><span class="o">==</span><span class="mf">24.0</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are using RUNAI, it is advisable to create your Conda environment outside the pod, such as in your personal folder. This avoids the need to recreate the environment each time the pod is terminated. You can do this by specifying the –prefix option when creating the environment. For example, in any terminal, run:</p>
<p><cite>conda create –prefix /share/personal/your_username/your_env_dir/your_env_name python=3.10.14</cite></p>
<p>Afterward, when starting a new pod, you can direct Conda to look for environments in that folder by running:</p>
<p><cite>conda config –add envs_dirs /share/personal/username/your_env_dir</cite></p>
<p>Finally, activate the environment using:</p>
<p><cite>conda activate your_env_name</cite></p>
</div>
<ol class="arabic" start="2">
<li><p>Download the required release of <cite>pysdg</cite> wheel file from <a class="reference external" href="https://github.com/CHEO-EHIL/pysdg-releases/tree/main/releases">pysdg wheel file releases</a>.</p></li>
<li><p>If needed, and if you have the necessary credentials, download the wheel file provided to you by <a class="reference external" href="https://aetion.com/">Replica/Aetion</a>. You do not need to download this file if you are not using the Replica generator.</p></li>
<li><p>Install <cite>pysdg</cite> and Replica (if needed) using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">&lt;</span><span class="n">the_downloaded_pysdg_wheel_file</span><span class="o">&gt;</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">&lt;</span><span class="n">the_downloaded_replica_wheel_file</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>If you intend to use the package in Jupyter Notebook, you need to add the above environment as a Jupyter kernel by issuing the following additional commands from your terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">anaconda</span> <span class="n">ipykernel</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">ipykernel</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="o">--</span><span class="n">name</span><span class="o">=&lt;</span><span class="n">your_virtual_environment_name</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
</ol>
<p>Then from your Jupyter notebook, select the new kernel that was created based on your environment.</p>
</section>
<section id="r">
<h2><span class="section-number">2.2. </span>R<a class="headerlink" href="#r" title="Link to this heading"></a></h2>
<p>From your R <cite>console</cite>, execute teh following steps:</p>
<ol class="arabic">
<li><p>Install the package reticulate and the python version 3.10.14 through R. (Note: Installing python using reticulate may take a long time):</p>
<blockquote>
<div><div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">devtools</span><span class="o">::</span><span class="nf">install_version</span><span class="p">(</span><span class="s">&quot;reticulate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;1.38.0&quot;</span><span class="p">)</span>
<span class="n">reticulate</span><span class="o">::</span><span class="nf">install_python</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s">&quot;3.10.14&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Typically, if you are using <cite>Rstudio</cite> template when creating a <cite>runai</cite> job, installing <cite>Python</cite> should execute smoothly. However, in case you encounter any errors, then, from your RStudio <cite>terminal</cite>, try updating Linux using:</p>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo apt-get update</span>
<span class="go">sudo apt-get install -y build-essential libssl-dev zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libsqlite3-dev libreadline-dev libffi-dev libbz2-dev liblzma-dev</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Install miniconda to create a conda environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reticulate</span><span class="p">::</span><span class="n">install_miniconda</span><span class="p">()</span>
<span class="n">reticulate</span><span class="p">::</span><span class="n">conda_create</span><span class="p">(</span><span class="s2">&quot;&lt;your_virtual_environment_name&gt;&quot;</span><span class="p">,</span> <span class="n">python_version</span> <span class="o">=</span> <span class="s2">&quot;3.10.14&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Make sure you use the correct version of pip:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reticulate</span><span class="p">::</span><span class="n">use_condaenv</span><span class="p">(</span><span class="s2">&quot;&lt;your_virtual_environment_name&gt;&quot;</span><span class="p">)</span>
<span class="n">reticulate</span><span class="p">::</span><span class="n">conda_install</span><span class="p">(</span><span class="s2">&quot;&lt;your_virtual_environment_name&gt;&quot;</span><span class="p">,</span> <span class="n">packages</span> <span class="o">=</span> <span class="s2">&quot;pip==24.0&quot;</span><span class="p">,</span> <span class="n">pip</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Follow steps 2 and 3 under Python installation above.</p></li>
<li><p>Install pysdg within the conda environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reticulate</span><span class="p">::</span><span class="n">conda_install</span><span class="p">(</span><span class="s2">&quot;&lt;your_virtual_environment_name&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;path_to_the_downloaded_pysdg_wheel_file&quot;</span><span class="p">,</span> <span class="n">pip</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">conda</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="n">python_version</span> <span class="o">=</span> <span class="s2">&quot;3.10&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Use the same environment above to install Replica (if needed) using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">reticulate</span><span class="p">::</span><span class="n">conda_install</span><span class="p">(</span><span class="s2">&quot;&lt;your_virtual_environment_name&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;path_to_the_downloaded_replica_wheel_file&quot;</span><span class="p">,</span> <span class="n">pip</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">,</span> <span class="n">conda</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="n">python_version</span> <span class="o">=</span> <span class="s2">&quot;3.10&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="about.html" class="btn btn-neutral float-left" title="1. About pysdg" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="usage.html" class="btn btn-neutral float-right" title="3. Usage" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>